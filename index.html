<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Linktree Rizaa</title>

  <!-- ICON -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- PARTICLES -->
  <div id="particles-js"></div>

  <!-- AUDIO -->
  <audio id="bgMusic" src="music.mp3" loop></audio>

  <!-- MUSIC CONTROL -->
  <div class="music-control">
    <button onclick="toggleMusic()">
      <i id="musicIcon" class="fas fa-play"></i>
    </button>
    <input type="range" min="0" max="1" step="0.01" id="volume">
  </div>

  <!-- CARD -->
  <div class="card">
    <img src="img/foto.jpg" class="avatar">
    <h2>Rizaa Amore</h2>
    <p class="bio">SMK | GOD LEVEL DEVELOPER âš¡</p>

    <a class="btn wa" onclick="openLink(event,'https://wa.me/6281932999602')">
      <i class="fab fa-whatsapp"></i><span>WhatsApp</span>
    </a>

    <a class="btn ig" onclick="openLink(event,'https://instagram.com/zyraxx_18')">
      <i class="fab fa-instagram"></i><span>Instagram</span>
    </a>

    <a class="btn dc" onclick="openLink(event,'https://discord.gg/JYpknSBdA9')">
      <i class="fab fa-discord"></i><span>Discord</span>
    </a>

    <a class="btn tt" onclick="openLink(event,'https://www.tiktok.com/@screett_gtwl')">
      <i class="fab fa-tiktok"></i><span>TikTok</span>
    </a>
  </div>

  <!-- PARTICLES JS -->
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>

  <script>
    /* PARTICLES */
    particlesJS("particles-js",{
      particles:{
        number:{value:70},
        color:{value:"#38bdf8"},
        opacity:{value:0.6},
        size:{value:3},
        move:{speed:2}
      }
    });

    const music = document.getElementById("bgMusic");
    const icon  = document.getElementById("musicIcon");
    const volume= document.getElementById("volume");

    /* LOAD SAVED STATE */
    music.volume = localStorage.getItem("volume") || 0.5;
    volume.value = music.volume;

    let started = false;

    function fadeIn(){
      let v = 0;
      music.volume = 0;
      music.play();
      icon.className = "fas fa-pause";
      const i = setInterval(()=>{
        if(v < volume.value){
          v += 0.02;
          music.volume = v;
        } else clearInterval(i);
      },50);
    }

    function fadeOut(){
      let v = music.volume;
      const o = setInterval(()=>{
        if(v > 0){
          v -= 0.02;
          music.volume = v;
        } else{
          music.pause();
          icon.className = "fas fa-play";
          clearInterval(o);
        }
      },50);
    }

    function toggleMusic(){
      if(music.paused) fadeIn();
      else fadeOut();
    }

    volume.oninput = ()=>{
      music.volume = volume.value;
      localStorage.setItem("volume", volume.value);
    };

    function ripple(e){
      const c = document.createElement("span");
      c.className = "ripple";
      const r = e.currentTarget.getBoundingClientRect();
      c.style.left = e.clientX - r.left + "px";
      c.style.top  = e.clientY - r.top  + "px";
      e.currentTarget.appendChild(c);
      setTimeout(()=>c.remove(),600);
    }

    function openLink(e,url){
      ripple(e);
      if(!started){
        fadeIn();
        started = true;
      }
      setTimeout(()=>window.open(url,"_blank"),300);
    }
  </script>

</body>
</html>
